# 웹 개발과 FastAPI 입문 가이드

> 이 문서는 웹 개발을 처음 접하는 분들을 위해 작성되었습니다.
> "API가 뭔가요?", "서버가 뭔가요?"부터 차근차근 설명합니다.

## 목차

1. [웹은 어떻게 동작하나요?](#웹은-어떻게-동작하나요)
2. [서버와 클라이언트란?](#서버와-클라이언트란)
3. [API란 무엇인가요?](#api란-무엇인가요)
4. [REST API란?](#rest-api란)
5. [HTTP 기본 개념](#http-기본-개념)
6. [JSON이란?](#json이란)
7. [FastAPI란?](#fastapi란)
8. [이 프로젝트는 무엇인가요?](#이-프로젝트는-무엇인가요)
9. [자주 나오는 용어 정리](#자주-나오는-용어-정리)

---

## 웹은 어떻게 동작하나요?

여러분이 네이버에 접속하면 어떤 일이 벌어질까요?

```
1. 브라우저 주소창에 www.naver.com 입력
2. 브라우저가 네이버 "서버"에 "이 페이지 보여주세요!" 요청을 보냄
3. 네이버 서버가 HTML, CSS, JavaScript 등의 파일을 돌려줌
4. 브라우저가 받은 파일을 화면에 그려줌
```

이 과정을 그림으로 보면:

```
[여러분의 브라우저]  ---요청(Request)--->  [네이버 서버]
                    <---응답(Response)---
```

**핵심 포인트:**
- **요청(Request)**: "이것 좀 주세요" 또는 "이거 저장해 주세요" 같은 메시지
- **응답(Response)**: 서버가 "여기 있어요" 또는 "저장했어요" 하고 돌려주는 메시지
- 웹의 모든 동작은 이 **요청 ↔ 응답** 패턴으로 이루어집니다

---

## 서버와 클라이언트란?

### 클라이언트 (Client)

서비스를 **요청하는 쪽**입니다.

- 웹 브라우저 (Chrome, Safari 등)
- 스마트폰 앱
- 다른 서버 프로그램

### 서버 (Server)

서비스를 **제공하는 쪽**입니다.

- 데이터를 저장하고 관리
- 클라이언트의 요청을 처리
- 결과를 돌려줌

### 일상적인 비유

```
식당에서 비유하면:

  클라이언트 = 손님    → "짜장면 하나 주세요" (요청)
  서버      = 주방    → 짜장면을 만들어서 줌 (응답)
  API       = 메뉴판  → 주문할 수 있는 목록과 규칙
```

### 이 프로젝트에서는?

**FastAPI로 만드는 것이 바로 서버입니다.** 우리가 만든 서버가:
- 회원가입 요청을 받으면 → 사용자를 DB에 저장하고 결과를 돌려줌
- 게시글 목록 요청을 받으면 → DB에서 게시글을 찾아서 돌려줌
- 로그인 요청을 받으면 → 비밀번호를 확인하고 인증 토큰을 돌려줌

---

## API란 무엇인가요?

### API = Application Programming Interface

쉽게 말해, **프로그램끼리 대화하는 규칙**입니다.

TV 리모컨을 생각해보세요:
- 리모컨의 버튼 = API
- 전원 버튼을 누르면 TV가 켜짐
- 채널 ▲를 누르면 다음 채널로 이동
- TV 내부가 어떻게 동작하는지는 몰라도 됨 → **버튼(API)만 알면 됨**

### 웹 API

웹에서의 API는 **URL을 통해 서버에 요청을 보내는 규칙**입니다.

```
[클라이언트]                              [서버]

"회원가입 해주세요"
POST /api/v1/auth/register      --->     사용자 생성 로직 실행
{email, password}               <---     {id, email, 생성완료}

"게시글 보여주세요"
GET /api/v1/posts/              --->     게시글 목록 조회
                                <---     [{제목, 내용, 작성자}, ...]

"이 게시글 삭제해주세요"
DELETE /api/v1/posts/5          --->     5번 게시글 삭제
                                <---     삭제 완료 (204)
```

### 왜 API가 중요한가요?

1. **프론트엔드와 백엔드를 분리**할 수 있습니다
   - 프론트엔드: 사용자가 보는 화면 (React, Vue 등)
   - 백엔드: 데이터를 처리하는 서버 (FastAPI)
   - API를 통해 서로 대화

2. **여러 클라이언트가 같은 서버를 사용**할 수 있습니다
   - 웹 브라우저, 모바일 앱, 다른 서버가 모두 같은 API를 사용

3. **역할 분담**이 가능합니다
   - 프론트엔드 개발자와 백엔드 개발자가 API 규격만 정하고 독립적으로 개발

---

## REST API란?

REST는 API를 설계하는 **규칙/스타일**입니다. "이렇게 하면 깔끔하고 이해하기 쉬운 API가 됩니다"라는 약속이라고 보면 됩니다.

### REST의 핵심 원칙

#### 1. URL은 "자원(리소스)"을 나타냅니다

```
좋은 예:
  /users          → 사용자 목록
  /users/1        → 1번 사용자
  /posts          → 게시글 목록
  /posts/5        → 5번 게시글

나쁜 예:
  /getUsers       → 동사를 URL에 넣지 않음
  /deletePost/5   → 동사를 URL에 넣지 않음
```

#### 2. HTTP 메서드로 "행동"을 나타냅니다

| HTTP 메서드 | 의미 | 예시 | 비유 |
|------------|------|------|------|
| **GET** | 조회 (읽기) | GET /posts → 게시글 목록 가져오기 | "보여주세요" |
| **POST** | 생성 (쓰기) | POST /posts → 새 게시글 작성 | "만들어주세요" |
| **PUT** | 전체 수정 | PUT /posts/1 → 1번 게시글 수정 | "바꿔주세요" |
| **PATCH** | 부분 수정 | PATCH /posts/1 → 제목만 수정 | "이것만 고쳐주세요" |
| **DELETE** | 삭제 | DELETE /posts/1 → 1번 게시글 삭제 | "지워주세요" |

#### 3. 조합 예시

```
사용자 관련:
  GET    /users        → 사용자 목록 조회
  POST   /users        → 새 사용자 생성 (회원가입)
  GET    /users/1      → 1번 사용자 정보 조회
  PUT    /users/1      → 1번 사용자 정보 수정
  DELETE /users/1      → 1번 사용자 삭제

게시글 관련:
  GET    /posts        → 게시글 목록 조회
  POST   /posts        → 새 게시글 작성
  GET    /posts/5      → 5번 게시글 조회
  PUT    /posts/5      → 5번 게시글 수정
  DELETE /posts/5      → 5번 게시글 삭제

댓글 관련 (게시글에 속한 댓글):
  GET    /posts/5/comments     → 5번 게시글의 댓글 목록
  POST   /posts/5/comments     → 5번 게시글에 댓글 작성
```

---

## HTTP 기본 개념

HTTP(HyperText Transfer Protocol)는 웹에서 데이터를 주고받는 **통신 규약**입니다.

### HTTP 요청의 구조

```
┌─────────────────────────────────────────────┐
│ POST /api/v1/auth/register HTTP/1.1         │ ← 요청 줄 (메서드 + URL)
│                                             │
│ Content-Type: application/json              │ ← 헤더 (부가 정보)
│ Authorization: Bearer eyJhbGciOi...         │ ← 헤더 (인증 정보)
│                                             │
│ {                                           │ ← 본문 (보내는 데이터)
│   "email": "user@example.com",             │
│   "password": "SecurePass123"              │
│ }                                           │
└─────────────────────────────────────────────┘
```

각 부분을 살펴보면:

- **요청 줄**: 무엇을(POST) 어디에(/api/v1/auth/register) 요청하는지
- **헤더(Headers)**: 편지의 봉투 같은 것. 부가 정보를 담음
  - `Content-Type`: 보내는 데이터의 형식 (JSON, HTML 등)
  - `Authorization`: 내가 누구인지 증명하는 토큰
- **본문(Body)**: 실제 보내는 데이터

### HTTP 응답의 구조

```
┌─────────────────────────────────────────────┐
│ HTTP/1.1 201 Created                        │ ← 상태 줄 (상태 코드)
│                                             │
│ Content-Type: application/json              │ ← 헤더
│                                             │
│ {                                           │ ← 본문 (돌려주는 데이터)
│   "id": 1,                                 │
│   "email": "user@example.com",             │
│   "username": "myuser"                     │
│ }                                           │
└─────────────────────────────────────────────┘
```

### HTTP 상태 코드

서버가 "일이 어떻게 됐는지"를 숫자로 알려줍니다.

| 상태 코드 | 의미 | 쉬운 설명 |
|----------|------|----------|
| **200** OK | 성공 | "잘 됐어요!" |
| **201** Created | 생성 성공 | "새로 만들었어요!" |
| **204** No Content | 삭제 성공 | "지웠어요! (돌려줄 건 없어요)" |
| **400** Bad Request | 잘못된 요청 | "보내신 데이터가 이상해요" |
| **401** Unauthorized | 인증 필요 | "로그인 먼저 해주세요" |
| **403** Forbidden | 권한 없음 | "로그인은 했지만 이건 못 해요" |
| **404** Not Found | 찾을 수 없음 | "그런 거 없는데요?" |
| **422** Unprocessable | 검증 실패 | "형식은 맞는데 내용이 틀려요" |
| **500** Server Error | 서버 오류 | "서버에 문제가 생겼어요 (우리 잘못)" |

**기억하기 쉬운 규칙:**
- **2xx**: 성공 (좋은 것)
- **4xx**: 클라이언트 잘못 (요청하는 쪽의 문제)
- **5xx**: 서버 잘못 (서버 쪽의 문제)

---

## JSON이란?

JSON(JavaScript Object Notation)은 **데이터를 주고받는 형식**입니다.
웹 API에서 가장 널리 사용됩니다.

### JSON 기본 형식

```json
{
    "이름": "값"
}
```

### 예시

```json
{
    "name": "홍길동",
    "age": 25,
    "is_student": true,
    "hobbies": ["독서", "코딩", "게임"],
    "address": {
        "city": "서울",
        "district": "강남구"
    }
}
```

### JSON의 데이터 타입

| 타입 | 예시 | 설명 |
|------|------|------|
| **문자열** | `"hello"` | 쌍따옴표로 감싸기 |
| **숫자** | `42`, `3.14` | 정수 또는 소수 |
| **불리언** | `true`, `false` | 참 또는 거짓 |
| **null** | `null` | 값 없음 |
| **배열** | `[1, 2, 3]` | 순서가 있는 목록 |
| **객체** | `{"key": "value"}` | 이름-값 쌍의 모음 |

### Python 딕셔너리와 비교

JSON은 Python의 딕셔너리(dict)와 거의 같은 구조입니다:

```python
# Python 딕셔너리
user = {
    "name": "홍길동",
    "age": 25,
    "is_active": True,    # Python: True (대문자)
    "data": None           # Python: None
}

# JSON (API 응답)
# {
#     "name": "홍길동",
#     "age": 25,
#     "is_active": true,   # JSON: true (소문자)
#     "data": null          # JSON: null
# }
```

**차이점:** Python에서는 `True/False/None`이지만, JSON에서는 `true/false/null`입니다.

### 이 프로젝트에서의 사용

```
클라이언트가 회원가입 시 보내는 JSON:
{
    "email": "user@example.com",
    "username": "myuser",
    "password": "SecurePass123"
}

서버가 돌려주는 JSON:
{
    "id": 1,
    "email": "user@example.com",
    "username": "myuser",
    "role": "user",
    "is_active": true
}
```

---

## FastAPI란?

### 한 줄 요약

**FastAPI는 Python으로 웹 API 서버를 쉽고 빠르게 만들 수 있는 프레임워크입니다.**

### 프레임워크란?

프레임워크는 **개발에 필요한 기본 도구와 구조를 미리 만들어놓은 것**입니다.

```
집을 지을 때 비유하면:

  프레임워크 없이 = 벽돌부터 직접 만들기
  프레임워크 사용 = 이미 설계된 골조 위에 내 방을 꾸미기
```

FastAPI가 이미 해놓은 것들:
- URL과 함수를 연결하는 시스템 (라우팅)
- 데이터 검증 (잘못된 데이터 자동 걸러냄)
- API 문서 자동 생성 (Swagger UI)
- 인증 시스템의 기본 틀
- 에러 처리

### 왜 FastAPI를 선택하나요?

| 특징 | 설명 |
|------|------|
| **쉬움** | Python 기본 문법만 알면 시작 가능 |
| **빠름** | Node.js, Go와 비슷한 성능 |
| **자동 문서화** | 코드를 작성하면 API 문서가 자동으로 생성됨 |
| **타입 검증** | 잘못된 데이터를 자동으로 걸러줌 |
| **Python** | 배우기 쉬운 언어로 작성 |

### 다른 프레임워크와 비교

| 프레임워크 | 언어 | 특징 |
|-----------|------|------|
| **FastAPI** | Python | 빠르고, 자동 문서화, 타입 안전 |
| Django | Python | 풀스택, 기능이 많지만 무거움 |
| Flask | Python | 가볍지만 기능이 적음 |
| Express | JavaScript | Node.js 기반, 대중적 |
| Spring Boot | Java | 기업용, 안정적이지만 무거움 |

### 가장 간단한 FastAPI 서버

```python
# main.py
from fastapi import FastAPI

# FastAPI 앱 만들기
app = FastAPI()

# URL과 함수 연결하기
@app.get("/")
def hello():
    return {"message": "안녕하세요!"}

@app.get("/users/{user_id}")
def get_user(user_id: int):
    return {"user_id": user_id, "name": f"사용자 {user_id}"}
```

이 5줄의 코드로:
- `http://localhost:8000/` 에 접속하면 `{"message": "안녕하세요!"}` 응답
- `http://localhost:8000/users/1` 에 접속하면 `{"user_id": 1, "name": "사용자 1"}` 응답
- `http://localhost:8000/docs` 에서 자동 생성된 API 문서 확인 가능

---

## 이 프로젝트는 무엇인가요?

### 프로젝트 소개

이 프로젝트는 FastAPI로 만든 **실제 웹 서비스의 백엔드(서버) 보일러플레이트**입니다.

**보일러플레이트(Boilerplate)란?**
프로젝트를 시작할 때 필요한 기본 코드를 미리 작성해놓은 템플릿입니다.
집으로 비유하면, 기본 설계가 완료된 "모델하우스"와 비슷합니다.

### 포함된 기능

```
이 프로젝트가 이미 만들어놓은 것들:

1. 회원가입/로그인 시스템
   - 비밀번호 암호화
   - JWT 토큰 인증
   - 역할별 권한 관리 (관리자/운영자/일반 사용자)

2. 게시판 시스템
   - 게시글 작성/수정/삭제
   - 댓글/대댓글
   - 카테고리 분류
   - 검색 및 페이지네이션

3. 대시보드
   - 통계 정보 (게시글 수, 사용자 수 등)

4. 테마/메뉴 관리
   - 사용자별 테마 설정
   - 역할별 메뉴 구성

5. 데이터베이스 연동
   - PostgreSQL, MySQL, SQLite 지원
```

### 전체 동작 흐름 예시

사용자가 게시글을 작성하는 과정:

```
[사용자의 브라우저/앱]
     │
     │ ① POST /api/v1/auth/login (로그인 요청)
     │    {"email": "user@example.com", "password": "SecurePass123"}
     │
     ▼
[FastAPI 서버]
     │ → 비밀번호 확인 → JWT 토큰 생성
     │
     │ ② 토큰 응답: {"access_token": "eyJhbGci...", "token_type": "bearer"}
     │
     ▼
[사용자의 브라우저/앱]
     │
     │ ③ POST /api/v1/posts/ (게시글 작성 요청)
     │    Headers: Authorization: Bearer eyJhbGci...
     │    Body: {"title": "첫 게시글", "content": "안녕하세요!"}
     │
     ▼
[FastAPI 서버]
     │ → 토큰 검증 → 사용자 확인 → 게시글을 DB에 저장
     │
     │ ④ 성공 응답 (201 Created):
     │    {"id": 1, "title": "첫 게시글", "author": {"username": "myuser"}}
     │
     ▼
[사용자의 브라우저/앱]
     성공! 게시글이 작성되었습니다.
```

### 프로젝트 구조 한눈에 보기

```
FastAPI_Tutorial/
│
├── app/                    ← 실제 서버 코드가 들어있는 폴더
│   ├── main.py             ← 🚀 서버의 시작점 (여기서 앱이 시작됨)
│   ├── config.py           ← ⚙️ 설정 관리 (DB 주소, 비밀 키 등)
│   ├── database.py         ← 🗄️ 데이터베이스 연결
│   │
│   ├── models/             ← 📦 데이터 구조 정의 (DB 테이블)
│   │   ├── user.py         ←   사용자 테이블
│   │   └── post.py         ←   게시글/댓글 테이블
│   │
│   ├── schemas/            ← 📋 요청/응답 데이터 검증 규칙
│   │   ├── user.py         ←   "이메일은 필수, 비밀번호는 8자 이상"
│   │   └── post.py         ←   "제목은 필수, 200자 이내"
│   │
│   ├── routers/            ← 🔀 URL과 함수를 연결 (API 엔드포인트)
│   │   ├── auth.py         ←   /auth/register, /auth/login
│   │   ├── users.py        ←   /users/, /users/{id}
│   │   └── posts.py        ←   /posts/, /posts/{id}
│   │
│   ├── services/           ← 💼 실제 비즈니스 로직
│   │   ├── auth.py         ←   로그인 검증, 토큰 발급
│   │   ├── user.py         ←   사용자 생성, 수정
│   │   └── post.py         ←   게시글 작성, 검색, 페이지네이션
│   │
│   ├── dependencies/       ← 🔐 공통으로 사용하는 기능
│   │   └── auth.py         ←   "로그인했는지 확인하는 함수"
│   │
│   └── utils/              ← 🔧 유틸리티 (비밀번호 암호화, 토큰 등)
│       └── security.py     ←   비밀번호 해시, JWT 토큰
│
├── tests/                  ← 🧪 테스트 코드
├── docs/                   ← 📚 문서 (지금 읽고 있는 것)
├── alembic/                ← 📐 DB 구조 변경 관리
├── requirements.txt        ← 📦 필요한 패키지 목록
└── .env.example            ← 🔑 환경 변수 템플릿
```

### 데이터 흐름 이해하기

```
사용자 요청이 처리되는 순서:

  HTTP 요청 도착
       │
       ▼
  ┌─────────┐   URL에 따라 적절한 함수를 찾아줌
  │ Router  │   예: POST /posts/ → create_post() 함수 실행
  └────┬────┘
       │
       ▼
  ┌─────────┐   데이터 검증 (Schema가 자동으로 처리)
  │ Schema  │   예: "제목이 비어있으면 422 에러"
  └────┬────┘
       │
       ▼
  ┌─────────┐   실제 로직 실행
  │ Service │   예: "슬러그 생성 → DB에 저장 → 결과 반환"
  └────┬────┘
       │
       ▼
  ┌─────────┐   데이터베이스 읽기/쓰기
  │  Model  │   예: INSERT INTO posts (title, content) VALUES (...)
  └────┬────┘
       │
       ▼
  HTTP 응답 반환
```

---

## 자주 나오는 용어 정리

### 기본 용어

| 용어 | 설명 |
|------|------|
| **API** | 프로그램끼리 대화하는 규칙 |
| **REST** | API 설계 스타일 (URL + HTTP 메서드로 자원을 다루는 방식) |
| **엔드포인트** | API의 각 URL. 예: `/api/v1/posts/` |
| **JSON** | 데이터를 주고받는 형식. `{"key": "value"}` |
| **HTTP** | 웹에서 데이터를 주고받는 규약 |

### 인증 관련

| 용어 | 설명 |
|------|------|
| **JWT** | JSON Web Token. 로그인 후 "나 로그인했어요" 증명서 같은 것 |
| **토큰(Token)** | 인증 정보가 담긴 긴 문자열 |
| **액세스 토큰** | API를 사용할 때 보내는 토큰 (유효기간 짧음: 30분) |
| **리프레시 토큰** | 액세스 토큰을 재발급받을 때 사용 (유효기간 김: 7일) |
| **해싱(Hashing)** | 비밀번호를 되돌릴 수 없는 문자열로 변환하는 것 |
| **Bearer** | "이 토큰을 가진 사람" 이라는 뜻. `Authorization: Bearer 토큰값` |

### 데이터베이스 관련

| 용어 | 설명 |
|------|------|
| **DB (Database)** | 데이터를 체계적으로 저장하는 곳 |
| **ORM** | 코드로 DB를 다루는 도구. SQL을 직접 안 써도 됨 |
| **SQLAlchemy** | Python의 ORM 라이브러리 (이 프로젝트에서 사용) |
| **모델(Model)** | DB 테이블의 구조를 Python 클래스로 표현한 것 |
| **마이그레이션** | DB 구조를 변경하는 작업 (테이블 추가, 컬럼 변경 등) |
| **세션(Session)** | DB와의 연결 단위. 요청마다 하나씩 생성 |

### 개발 관련

| 용어 | 설명 |
|------|------|
| **프레임워크** | 개발에 필요한 기본 도구와 구조를 미리 만들어놓은 것 |
| **보일러플레이트** | 프로젝트 시작을 위한 기본 코드 템플릿 |
| **라우터(Router)** | URL과 함수를 연결하는 것 |
| **스키마(Schema)** | 데이터의 형식과 검증 규칙을 정의한 것 |
| **서비스(Service)** | 비즈니스 로직을 담당하는 코드 |
| **의존성 주입** | 함수가 필요한 것(DB 연결, 인증 등)을 자동으로 전달받는 것 |
| **미들웨어** | 요청/응답을 가로채서 추가 처리하는 것 (로깅, CORS 등) |
| **CORS** | 다른 도메인(주소)에서 API를 호출할 수 있게 허용하는 설정 |

### Python/패키지 관련

| 용어 | 설명 |
|------|------|
| **pip** | Python 패키지 설치 도구 (앱스토어 같은 것) |
| **가상환경(venv)** | 프로젝트별로 패키지를 분리 관리하는 격리 공간 |
| **Pydantic** | 데이터 검증 라이브러리 (FastAPI가 내부적으로 사용) |
| **uvicorn** | FastAPI 서버를 실행하는 도구 |
| **requirements.txt** | 프로젝트에 필요한 패키지 목록 파일 |

---

## 다음 단계

이제 기본 개념을 이해했으니 다음 문서를 순서대로 읽어보세요:

1. **[개발 환경 준비하기](tutorial/00_before_you_start.md)**: Python 설치, 터미널 사용법, 개발 도구
2. **[설치 가이드](01_installation.md)**: 프로젝트 설치 및 실행
3. **[환경 설정](02_configuration.md)**: 설정 옵션 이해
4. **[사용 가이드](03_usage.md)**: API 사용 방법 실습
5. **[FastAPI 기본 문법](tutorial/01_fastapi_basics.md)**: 코드 이해하기
