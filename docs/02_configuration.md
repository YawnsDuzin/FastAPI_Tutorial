# í™˜ê²½ ì„¤ì • ê°€ì´ë“œ

ì´ ë¬¸ì„œì—ì„œëŠ” í”„ë¡œì íŠ¸ì˜ ëª¨ë“  ì„¤ì • ì˜µì…˜ì„ ì„¤ëª…í•©ë‹ˆë‹¤.

> **ì´ˆë³´ì ì•ˆë‚´:** í™˜ê²½ ì„¤ì •ì€ "ì„œë²„ì—ê²Œ ì–´ë–»ê²Œ ë™ì‘í• ì§€ ì•Œë ¤ì£¼ëŠ” ê²ƒ"ì…ë‹ˆë‹¤.
> ë§ˆì¹˜ í•¸ë“œí°ì˜ ì„¤ì • ì•±ì—ì„œ í™”ë©´ ë°ê¸°, ì•Œë¦¼, Wi-Fi ë“±ì„ ì¡°ì ˆí•˜ëŠ” ê²ƒì²˜ëŸ¼,
> ì„œë²„ë„ DB ì£¼ì†Œ, ë¹„ë°€ í‚¤, í† í° ìœ íš¨ê¸°ê°„ ë“±ì„ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.

## ëª©ì°¨

1. [í™˜ê²½ ë³€ìˆ˜ ê°œìš”](#í™˜ê²½-ë³€ìˆ˜-ê°œìš”)
2. [ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì •](#ì• í”Œë¦¬ì¼€ì´ì…˜-ì„¤ì •)
3. [ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •](#ë°ì´í„°ë² ì´ìŠ¤-ì„¤ì •)
4. [ì¸ì¦ ì„¤ì •](#ì¸ì¦-ì„¤ì •)
5. [CORS ì„¤ì •](#cors-ì„¤ì •)
6. [í…Œë§ˆ ì„¤ì •](#í…Œë§ˆ-ì„¤ì •)
7. [í™˜ê²½ë³„ ì„¤ì • ê´€ë¦¬](#í™˜ê²½ë³„-ì„¤ì •-ê´€ë¦¬)
=======
6. [ë¡œê¹… ì„¤ì •](#ë¡œê¹…-ì„¤ì •)
7. [í…Œë§ˆ ì„¤ì •](#í…Œë§ˆ-ì„¤ì •)
---

## í™˜ê²½ ë³€ìˆ˜ ê°œìš”

### í™˜ê²½ ë³€ìˆ˜ë€?

í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ë  ë•Œ í•„ìš”í•œ **ì™¸ë¶€ ì„¤ì •ê°’**ì…ë‹ˆë‹¤.

```
ì™œ ì½”ë“œì— ì§ì ‘ ì•ˆ ì“°ë‚˜ìš”?

âŒ ë‚˜ìœ ì˜ˆ (ì½”ë“œì— ì§ì ‘ ì‘ì„±):
   DB_PASSWORD = "my_secret_password"    â† Gitì— ì˜¬ë¼ê°€ë©´ ë¹„ë°€ë²ˆí˜¸ ë…¸ì¶œ!

âœ… ì¢‹ì€ ì˜ˆ (í™˜ê²½ ë³€ìˆ˜ ì‚¬ìš©):
   DB_PASSWORD = os.getenv("DB_PASSWORD")  â† .env íŒŒì¼ì—ì„œ ì½ì–´ì˜´
```

**ì¥ì :**
1. **ë³´ì•ˆ**: ë¹„ë°€ë²ˆí˜¸ ê°™ì€ ë¯¼ê°í•œ ì •ë³´ë¥¼ ì½”ë“œì— ë…¸ì¶œí•˜ì§€ ì•ŠìŒ
2. **ìœ ì—°ì„±**: í™˜ê²½(ê°œë°œ/í…ŒìŠ¤íŠ¸/í”„ë¡œë•ì…˜)ë§ˆë‹¤ ë‹¤ë¥¸ ì„¤ì •ì„ ì‰½ê²Œ ì ìš©
3. **í¸ì˜ì„±**: ì½”ë“œ ìˆ˜ì • ì—†ì´ ì„¤ì •ë§Œ ë³€ê²½ ê°€ëŠ¥

### ì„¤ì • íŒŒì¼ ìœ„ì¹˜

```
FastAPI_Tutorial/
â”œâ”€â”€ .env              # ì‹¤ì œ ì„¤ì • (gitì— í¬í•¨ë˜ì§€ ì•ŠìŒ) â† ë‚´ ë¹„ë°€ë²ˆí˜¸ê°€ ì—¬ê¸°ì—
â”œâ”€â”€ .env.example      # ì„¤ì • í…œí”Œë¦¿ (gitì— í¬í•¨ë¨) â† ë‹¤ë¥¸ ì‚¬ëŒì´ ì°¸ê³ í•˜ëŠ” ì–‘ì‹
â””â”€â”€ app/
    â””â”€â”€ config.py     # ì„¤ì • ë¡œë“œ ë° ê²€ì¦ â† .envë¥¼ ì½ì–´ì˜¤ëŠ” ì½”ë“œ
```

### ì„¤ì • ë¡œë“œ ë°©ì‹

ì„¤ì •ì€ `app/config.py`ì˜ `Settings` í´ë˜ìŠ¤ë¥¼ í†µí•´ ë¡œë“œë©ë‹ˆë‹¤:

```python
from app.config import settings

# ì„¤ì • ì‚¬ìš© ì˜ˆì‹œ
print(settings.app_name)      # "FastAPI Boilerplate"
print(settings.database_url)  # "sqlite:///./data/app.db"
print(settings.debug)         # True
```

> **ì–´ë–»ê²Œ ë™ì‘í•˜ë‚˜ìš”?**
> 1. ì„œë²„ê°€ ì‹œì‘ë˜ë©´ `config.py`ê°€ `.env` íŒŒì¼ì„ ì½ìŒ
> 2. ê° ê°’ì„ `settings` ê°ì²´ì— ì €ì¥
> 3. ì½”ë“œ ì–´ë””ì—ì„œë“  `settings.xxx`ë¡œ ì„¤ì •ê°’ì— ì ‘ê·¼ ê°€ëŠ¥

---

## ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì •

### ê¸°ë³¸ ì„¤ì •

```env
# ì• í”Œë¦¬ì¼€ì´ì…˜ ì´ë¦„ (API ë¬¸ì„œì— í‘œì‹œë¨)
APP_NAME="FastAPI Boilerplate"

# ë²„ì „
APP_VERSION="1.0.0"

# ë””ë²„ê·¸ ëª¨ë“œ (ê°œë°œ: true, í”„ë¡œë•ì…˜: false)
DEBUG=true

# ë¹„ë°€ í‚¤ (ì„¸ì…˜, CSRF ë“±ì— ì‚¬ìš©)
# í”„ë¡œë•ì…˜ì—ì„œëŠ” ë°˜ë“œì‹œ ë³€ê²½í•˜ì„¸ìš”!
SECRET_KEY="your-secret-key-change-this-in-production"
```

### ë””ë²„ê·¸ ëª¨ë“œë€?

| ê¸°ëŠ¥ | DEBUG=true (ê°œë°œ ëª¨ë“œ) | DEBUG=false (í”„ë¡œë•ì…˜ ëª¨ë“œ) |
|------|----------------------|--------------------------|
| SQL ë¡œê¹… | í™œì„±í™” (ì–´ë–¤ SQLì´ ì‹¤í–‰ë˜ëŠ”ì§€ ë³´ì„) | ë¹„í™œì„±í™” |
| ìƒì„¸ ì—ëŸ¬ | ì—ëŸ¬ ì „ì²´ ë‚´ìš© í‘œì‹œ (ë””ë²„ê¹…ì— ìœ ìš©) | ê°„ëµí•œ ë©”ì‹œì§€ë§Œ í‘œì‹œ (ë³´ì•ˆ) |
| í•« ë¦¬ë¡œë“œ | ìë™ (ì½”ë“œ ìˆ˜ì • ì‹œ ì„œë²„ ì¬ì‹œì‘) | ìˆ˜ë™ |

> **ì£¼ì˜:** í”„ë¡œë•ì…˜(ì‹¤ì„œë¹„ìŠ¤)ì—ì„œëŠ” ë°˜ë“œì‹œ `DEBUG=false`ë¡œ ì„¤ì •í•˜ì„¸ìš”.
> ë””ë²„ê·¸ ëª¨ë“œì—ì„œëŠ” ì—ëŸ¬ ì‹œ ì„œë²„ ë‚´ë¶€ ì •ë³´ê°€ ë…¸ì¶œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### SECRET_KEY ìƒì„±

> **SECRET_KEYë€?** ì„œë²„ê°€ ë°ì´í„°ë¥¼ ì•”í˜¸í™”í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ë¹„ë°€ ë¬¸ìì—´ì…ë‹ˆë‹¤.
> ì€í–‰ ê¸ˆê³ ì˜ ë¹„ë°€ë²ˆí˜¸ì™€ ê°™ì€ ì—­í• ì„ í•©ë‹ˆë‹¤.
> ì´ ê°’ì´ ë…¸ì¶œë˜ë©´ í† í°ì„ ìœ„ì¡°í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ì¶”ì¸¡í•˜ê¸° ì–´ë µê³  ì¶©ë¶„íˆ ê¸´ ê°’ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

```python
# Pythonìœ¼ë¡œ ì•ˆì „í•œ í‚¤ ìƒì„±
import secrets
print(secrets.token_urlsafe(32))
# ì¶œë ¥ ì˜ˆ: 'dkG3h2bV7JKf9mN...' (ë§¤ë²ˆ ë‹¤ë¥¸ ê°’ì´ ë‚˜ì˜´)
```

ë˜ëŠ” ëª…ë ¹ì¤„ì—ì„œ:

```bash
openssl rand -hex 32
```

---

## ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •

### ë°ì´í„°ë² ì´ìŠ¤ ìœ í˜• ì„ íƒ

```env
# ì§€ì› ìœ í˜•: postgresql, mysql, mariadb, sqlite
DB_TYPE=postgresql
```

### PostgreSQL ì„¤ì •

```env
DB_TYPE=postgresql
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=password
DB_NAME=fastapi_db
```

ìƒì„±ë˜ëŠ” URL: `postgresql://postgres:password@localhost:5432/fastapi_db`

> **ì´ URLì˜ êµ¬ì¡°:**
> ```
> postgresql://ì‚¬ìš©ì:ë¹„ë°€ë²ˆí˜¸@í˜¸ìŠ¤íŠ¸:í¬íŠ¸/ë°ì´í„°ë² ì´ìŠ¤ì´ë¦„
> ```

### MySQL/MariaDB ì„¤ì •

```env
DB_TYPE=mysql  # ë˜ëŠ” mariadb
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=password
DB_NAME=fastapi_db
```

ìƒì„±ë˜ëŠ” URL: `mysql+pymysql://root:password@localhost:3306/fastapi_db`

### SQLite ì„¤ì •

```env
DB_TYPE=sqlite
SQLITE_FILE=./data/app.db
```

ìƒì„±ë˜ëŠ” URL: `sqlite:///./data/app.db`

> **SQLiteëŠ” ì™œ ë‹¤ë¥¸ê°€ìš”?** SQLiteëŠ” ë³„ë„ ì„œë²„ ì—†ì´ íŒŒì¼ í•˜ë‚˜ë¡œ ë™ì‘í•˜ë¯€ë¡œ,
> í˜¸ìŠ¤íŠ¸, í¬íŠ¸, ì‚¬ìš©ì, ë¹„ë°€ë²ˆí˜¸ê°€ í•„ìš” ì—†ìŠµë‹ˆë‹¤. íŒŒì¼ ê²½ë¡œë§Œ ì§€ì •í•˜ë©´ ë©ë‹ˆë‹¤.

### ì—°ê²° í’€ì´ë€?

```python
# app/database.pyì—ì„œ ì„¤ì •
engine = create_engine(
    database_url,
    pool_pre_ping=True,   # ì—°ê²° ìœ íš¨ì„± ê²€ì‚¬
    pool_size=10,         # ê¸°ë³¸ ì—°ê²° ìˆ˜
    max_overflow=20,      # ì¶”ê°€ ì—°ê²° ìµœëŒ€ ìˆ˜
)
```

> **ì—°ê²° í’€(Connection Pool)ì´ë€?**
> DB ì—°ê²°ì„ ë§¤ë²ˆ ìƒˆë¡œ ë§Œë“œëŠ” ëŒ€ì‹ , ë¯¸ë¦¬ ì—¬ëŸ¬ ê°œì˜ ì—°ê²°ì„ ë§Œë“¤ì–´ë†“ê³  ì¬ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
>
> **ë¹„ìœ :** ìˆ˜ì˜ì¥ì˜ ë ˆì¸ì²˜ëŸ¼, ë¯¸ë¦¬ 10ê°œì˜ ì—°ê²° í†µë¡œë¥¼ ë§Œë“¤ì–´ë†“ê³ 
> ìš”ì²­ì´ ì˜¬ ë•Œë§ˆë‹¤ ë¹ˆ í†µë¡œë¥¼ ë°°ì •í•´ì£¼ëŠ” ê²ƒì…ë‹ˆë‹¤.
>
> - `pool_size=10`: í•­ìƒ ì¤€ë¹„í•´ë†“ì„ ì—°ê²° ìˆ˜
> - `max_overflow=20`: ë°”ì  ë•Œ ì¶”ê°€ë¡œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ì—°ê²° ìˆ˜
> - ì¦‰, ìµœëŒ€ 30ê°œ(10+20)ì˜ ë™ì‹œ DB ì—°ê²°ì´ ê°€ëŠ¥

---

## ì¸ì¦ ì„¤ì •

### JWT ì„¤ì •

```env
# JWT ì„œëª…ì— ì‚¬ìš©ë˜ëŠ” ë¹„ë°€ í‚¤
# í”„ë¡œë•ì…˜ì—ì„œëŠ” ë°˜ë“œì‹œ ë³€ê²½í•˜ì„¸ìš”!
JWT_SECRET_KEY="your-jwt-secret-key-change-this"

# ì„œëª… ì•Œê³ ë¦¬ì¦˜
JWT_ALGORITHM=HS256

# ì•¡ì„¸ìŠ¤ í† í° ë§Œë£Œ ì‹œê°„ (ë¶„)
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ë¦¬í”„ë ˆì‹œ í† í° ë§Œë£Œ ì‹œê°„ (ì¼)
REFRESH_TOKEN_EXPIRE_DAYS=7
```

> **ê° ì„¤ì •ì˜ ì˜ë¯¸:**
>
> - **JWT_SECRET_KEY**: JWT í† í°ì„ ë§Œë“¤ê³  ê²€ì¦í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ë¹„ë°€ í‚¤.
>   ì´ í‚¤ê°€ ë…¸ì¶œë˜ë©´ ëˆ„êµ¬ë‚˜ ê°€ì§œ í† í°ì„ ë§Œë“¤ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì ˆëŒ€ ê³µìœ í•˜ì§€ ë§ˆì„¸ìš”.
>
> - **JWT_ALGORITHM**: ì•”í˜¸í™” ë°©ì‹. `HS256`ì€ ê°€ì¥ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ëŒ€ì¹­ í‚¤ ì•Œê³ ë¦¬ì¦˜ì…ë‹ˆë‹¤.
>   íŠ¹ë³„í•œ ì´ìœ ê°€ ì—†ìœ¼ë©´ ë³€ê²½í•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.
>
> - **ACCESS_TOKEN_EXPIRE_MINUTES**: ë¡œê·¸ì¸ í›„ ë°œê¸‰ë°›ëŠ” í† í°ì˜ ìœ íš¨ ì‹œê°„.
>   30ë¶„ì´ ì§€ë‚˜ë©´ í† í°ì´ ë§Œë£Œë˜ì–´ ë‹¤ì‹œ ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤.
>
> - **REFRESH_TOKEN_EXPIRE_DAYS**: ì•¡ì„¸ìŠ¤ í† í°ì´ ë§Œë£Œë˜ì—ˆì„ ë•Œ ìƒˆ í† í°ì„ ë°›ê¸° ìœ„í•œ í† í°.
>   7ì¼ê°„ ìœ íš¨í•˜ë¯€ë¡œ, 7ì¼ ë™ì•ˆì€ ë‹¤ì‹œ ë¡œê·¸ì¸í•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.

### í† í° ë§Œë£Œ ì‹œê°„ ê¶Œì¥ê°’

| í™˜ê²½ | ì•¡ì„¸ìŠ¤ í† í° | ë¦¬í”„ë ˆì‹œ í† í° | ì„¤ëª… |
|------|-------------|---------------|------|
| ê°œë°œ | 60ë¶„ | 30ì¼ | ìì£¼ ë¡œê·¸ì¸í•˜ê¸° ê·€ì°®ìœ¼ë¯€ë¡œ ê¸¸ê²Œ |
| í”„ë¡œë•ì…˜ | 15-30ë¶„ | 7ì¼ | ë³´ì•ˆê³¼ í¸ì˜ì„±ì˜ ê· í˜• |
| ê³ ë³´ì•ˆ | 5-15ë¶„ | 1ì¼ | ì€í–‰, ì˜ë£Œ ë“± ë³´ì•ˆì´ ì¤‘ìš”í•œ ì„œë¹„ìŠ¤ |

> **ì™œ ì•¡ì„¸ìŠ¤ í† í°ì€ ì§§ê³ , ë¦¬í”„ë ˆì‹œ í† í°ì€ ê¸¸ê¹Œìš”?**
>
> íƒì‹œ ë¹„ìœ ë¡œ ì„¤ëª…í•˜ë©´:
> - **ì•¡ì„¸ìŠ¤ í† í°** = íƒì‹œ ìŠ¹ì°¨ê¶Œ (ì§§ì€ ìœ íš¨ê¸°ê°„, ìì£¼ ì‚¬ìš©)
> - **ë¦¬í”„ë ˆì‹œ í† í°** = ì›”ì •ì•¡ íŒ¨ìŠ¤ (ê¸´ ìœ íš¨ê¸°ê°„, ìŠ¹ì°¨ê¶Œ ì¬ë°œê¸‰ìš©)
>
> ìŠ¹ì°¨ê¶Œì´ ë§Œë£Œë˜ë©´ ì›”ì •ì•¡ íŒ¨ìŠ¤ë¡œ ìƒˆ ìŠ¹ì°¨ê¶Œì„ ë°›ìŠµë‹ˆë‹¤.
> ìŠ¹ì°¨ê¶Œì„ ëˆ„ê°€ í›”ì³ë„ 30ë¶„ë§Œ ì“¸ ìˆ˜ ìˆì§€ë§Œ,
> íŒ¨ìŠ¤ë¥¼ í›”ì¹˜ë©´ ì˜¤ë˜ ì“¸ ìˆ˜ ìˆìœ¼ë¯€ë¡œ íŒ¨ìŠ¤ëŠ” ë” ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•©ë‹ˆë‹¤.

### ì‚¬ìš©ì ì—­í• 

ì‹œìŠ¤í…œì—ì„œ ì§€ì›í•˜ëŠ” ì—­í• :

```python
class UserRole(str, Enum):
    ADMIN = "admin"          # ì „ì²´ ê¶Œí•œ (ëª¨ë“  ê²ƒì„ í•  ìˆ˜ ìˆìŒ)
    MODERATOR = "moderator"  # ì»¨í…ì¸  ê´€ë¦¬ ê¶Œí•œ (ê²Œì‹œê¸€/ëŒ“ê¸€ ê´€ë¦¬)
    USER = "user"            # ì¼ë°˜ ì‚¬ìš©ì (ìê¸° ê¸€ë§Œ ê´€ë¦¬)
```

> **ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´(RBAC)ë€?**
> ì‚¬ìš©ìë§ˆë‹¤ "í•  ìˆ˜ ìˆëŠ” ê²ƒ"ì„ ì—­í• ë¡œ êµ¬ë¶„í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.
>
> | ê¸°ëŠ¥ | ADMIN | MODERATOR | USER |
> |------|-------|-----------|------|
> | ì‚¬ìš©ì ëª©ë¡ ì¡°íšŒ | O | X | X |
> | ë‹¤ë¥¸ ì‚¬ìš©ì ì‚­ì œ | O | X | X |
> | ë‹¤ë¥¸ ì‚¬ëŒ ê²Œì‹œê¸€ ì‚­ì œ | O | O | X |
> | ìê¸° ê²Œì‹œê¸€ ì‘ì„±/ìˆ˜ì •/ì‚­ì œ | O | O | O |

---

## CORS ì„¤ì •

### CORSë€?

> **CORS(Cross-Origin Resource Sharing)**ëŠ” "ë‹¤ë¥¸ ì£¼ì†Œì—ì„œ ì˜¤ëŠ” ìš”ì²­ì„ í—ˆìš©í• ì§€"ì— ëŒ€í•œ ê·œì¹™ì…ë‹ˆë‹¤.
>
> ì˜ˆë¥¼ ë“¤ì–´:
> - í”„ë¡ íŠ¸ì—”ë“œê°€ `http://localhost:3000`ì—ì„œ ì‹¤í–‰ë˜ê³ 
> - ë°±ì—”ë“œ APIê°€ `http://localhost:8000`ì—ì„œ ì‹¤í–‰ë˜ë©´
> - ì£¼ì†Œ(origin)ê°€ ë‹¤ë¥´ë¯€ë¡œ ë¸Œë¼ìš°ì €ê°€ ê¸°ë³¸ì ìœ¼ë¡œ ìš”ì²­ì„ ì°¨ë‹¨í•©ë‹ˆë‹¤
> - CORS ì„¤ì •ìœ¼ë¡œ "localhost:3000ì—ì„œ ì˜¤ëŠ” ìš”ì²­ì€ í—ˆìš©í•´"ë¼ê³  ì•Œë ¤ì¤˜ì•¼ í•©ë‹ˆë‹¤

### ê¸°ë³¸ ì„¤ì •

```env
# í—ˆìš©ëœ ì˜¤ë¦¬ì§„ (JSON ë°°ì—´ í˜•ì‹)
CORS_ORIGINS=["http://localhost:3000","http://localhost:8080"]

# ìê²© ì¦ëª… í—ˆìš© (ì¿ í‚¤, Authorization í—¤ë” ë“±)
CORS_ALLOW_CREDENTIALS=true

# í—ˆìš©ëœ HTTP ë©”ì„œë“œ
CORS_ALLOW_METHODS=["*"]

# í—ˆìš©ëœ í—¤ë”
CORS_ALLOW_HEADERS=["*"]
```

> **ê° í•­ëª©ì˜ ì˜ë¯¸:**
> - `CORS_ORIGINS`: APIë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” ì£¼ì†Œ ëª©ë¡ (í”„ë¡ íŠ¸ì—”ë“œ ì£¼ì†Œ)
> - `CORS_ALLOW_CREDENTIALS`: ì¿ í‚¤ë‚˜ ì¸ì¦ í—¤ë”ë¥¼ í¬í•¨í•œ ìš”ì²­ì„ í—ˆìš©í• ì§€
> - `CORS_ALLOW_METHODS`: í—ˆìš©í•  HTTP ë©”ì„œë“œ (`*` = ëª¨ë‘ í—ˆìš©)
> - `CORS_ALLOW_HEADERS`: í—ˆìš©í•  HTTP í—¤ë” (`*` = ëª¨ë‘ í—ˆìš©)

### í”„ë¡œë•ì…˜ ì„¤ì • ì˜ˆì‹œ

```env
# íŠ¹ì • ë„ë©”ì¸ë§Œ í—ˆìš©
CORS_ORIGINS=["https://myapp.com","https://admin.myapp.com"]

# íŠ¹ì • ë©”ì„œë“œë§Œ í—ˆìš©
CORS_ALLOW_METHODS=["GET","POST","PUT","DELETE"]

# íŠ¹ì • í—¤ë”ë§Œ í—ˆìš©
CORS_ALLOW_HEADERS=["Authorization","Content-Type"]
```

### CORS ê´€ë ¨ ì£¼ì˜ì‚¬í•­

1. **ì™€ì¼ë“œì¹´ë“œ(`*`) ì‚¬ìš© ìì œ**: í”„ë¡œë•ì…˜ì—ì„œëŠ” êµ¬ì²´ì ì¸ ë„ë©”ì¸ ì§€ì •
2. **ìê²© ì¦ëª…ê³¼ ì™€ì¼ë“œì¹´ë“œ**: `CORS_ALLOW_CREDENTIALS=true`ì¼ ë•Œ ì˜¤ë¦¬ì§„ì— `*` ì‚¬ìš© ë¶ˆê°€
3. **í”„ë¦¬í”Œë¼ì´íŠ¸ ìºì‹œ**: ë³µì¡í•œ ìš”ì²­ì˜ ê²½ìš° ë¸Œë¼ìš°ì €ê°€ ë¨¼ì € OPTIONS ìš”ì²­ì„ ë³´ëƒ„

> **CORS ì—ëŸ¬ê°€ ë‚˜ìš”!**
> í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ì‹œ ê°€ì¥ í”í•œ ì—ëŸ¬ì…ë‹ˆë‹¤. ëŒ€ë¶€ë¶„ `CORS_ORIGINS`ì—
> í”„ë¡ íŠ¸ì—”ë“œ ì£¼ì†Œë¥¼ ì¶”ê°€í•˜ë©´ í•´ê²°ë©ë‹ˆë‹¤.
> ```env
> # í”„ë¡ íŠ¸ì—”ë“œê°€ localhost:3000ì´ë¼ë©´:
> CORS_ORIGINS=["http://localhost:3000"]
> ```

---

## ë¡œê¹… ì„¤ì •

### ê¸°ë³¸ ì„¤ì •

```env
# ë¡œê·¸ ë ˆë²¨ (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# ë¡œê·¸ ì¶œë ¥ í¬ë§·
LOG_FORMAT="%(asctime)s | %(levelname)-8s | %(name)s:%(lineno)d | %(message)s"

# ë¡œê·¸ ë‚ ì§œ í¬ë§·
LOG_DATE_FORMAT="%Y-%m-%d %H:%M:%S"
```

### íŒŒì¼ ë¡œê¹… ì„¤ì •

```env
# íŒŒì¼ ë¡œê¹… í™œì„±í™”
LOG_FILE_ENABLED=true

# ë¡œê·¸ íŒŒì¼ ê²½ë¡œ
LOG_FILE_PATH=logs/app.log

# ë¡œê·¸ íŒŒì¼ ìµœëŒ€ í¬ê¸° (bytes, ê¸°ë³¸ 10MB)
LOG_FILE_MAX_BYTES=10485760

# ë°±ì—… íŒŒì¼ ê°œìˆ˜
LOG_FILE_BACKUP_COUNT=5

# JSON í˜•ì‹ ë¡œê¹… (ë¡œê·¸ ìˆ˜ì§‘ ì‹œìŠ¤í…œ ì—°ë™ ì‹œ)
LOG_JSON_FORMAT=false
```

### í™˜ê²½ë³„ ë¡œê·¸ ë ˆë²¨ ê¶Œì¥ê°’

| í™˜ê²½ | LOG_LEVEL | LOG_FILE_ENABLED | ì„¤ëª… |
|------|-----------|------------------|------|
| ê°œë°œ | DEBUG | false | ìƒì„¸ ë””ë²„ê¹… ì •ë³´ |
| ìŠ¤í…Œì´ì§• | INFO | true | ì¼ë°˜ ìš´ì˜ ì •ë³´ |
| í”„ë¡œë•ì…˜ | WARNING | true | ê²½ê³  ì´ìƒë§Œ ê¸°ë¡ |

### ë¡œê·¸ ì¶œë ¥ ì˜ˆì‹œ

```
2024-01-15 10:30:45 | INFO     | app.main:54 | FastAPI Boilerplate v1.0.0 ì‹œì‘
2024-01-15 10:30:45 | INFO     | app.middleware.logging:82 | [a1b2c3d4] --> GET /api/v1/users | Client: 127.0.0.1
2024-01-15 10:30:45 | INFO     | app.middleware.logging:95 | [a1b2c3d4] <-- GET /api/v1/users | Status: 200 | Time: 12.34ms
```

### JSON ë¡œê·¸ í¬ë§· (LOG_JSON_FORMAT=true)

```json
{
    "timestamp": "2024-01-15T10:30:45.123456Z",
    "level": "INFO",
    "logger": "app.middleware.logging",
    "message": "[a1b2c3d4] --> GET /api/v1/users | Client: 127.0.0.1",
    "module": "logging",
    "function": "dispatch",
    "line": 82
}
```

> ğŸ“– ìì„¸í•œ ë¡œê¹… ì‚¬ìš©ë²•ì€ [ë¡œê¹… ê°€ì´ë“œ](06_logging.md)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

---

## í…Œë§ˆ ì„¤ì •

### í…Œë§ˆ ì˜µì…˜

```env
# ê¸°ë³¸ í…Œë§ˆ
DEFAULT_THEME=light

# ì‚¬ìš© ê°€ëŠ¥í•œ í…Œë§ˆ ëª©ë¡
AVAILABLE_THEMES=["light","dark","blue","green"]
```

### í…Œë§ˆ ì»¤ìŠ¤í„°ë§ˆì´ì§•

ì‚¬ìš©ìë³„ í…Œë§ˆ ì„¤ì •ì€ `user_themes` í…Œì´ë¸”ì— ì €ì¥ë©ë‹ˆë‹¤:

```python
# UserTheme ëª¨ë¸ í•„ë“œ
{
    "theme_name": "dark",           # í…Œë§ˆ ì´ë¦„
    "sidebar_collapsed": false,     # ì‚¬ì´ë“œë°” ìƒíƒœ
    "custom_settings": {            # í™•ì¥ ì„¤ì • (JSON)
        "font_size": "medium",
        "language": "ko"
    }
}
```

---

## ì„¤ì • ê²€ì¦

ì„¤ì •ì´ ì˜¬ë°”ë¥´ê²Œ ë¡œë“œë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ë°©ë²•:

### ë°©ë²• 1: Python ì…¸ì—ì„œ í™•ì¸

```bash
# ê°€ìƒí™˜ê²½ í™œì„±í™” í›„
python -c "from app.config import settings; print(f'DB: {settings.db_type}, Debug: {settings.debug}')"
```

### ë°©ë²• 2: ì„œë²„ ì‹œì‘ ì‹œ ë¡œê·¸ í™•ì¸

ì„œë²„ë¥¼ ì‹œì‘í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë¡œê·¸ê°€ í‘œì‹œë©ë‹ˆë‹¤:

```
FastAPI Boilerplate v1.0.0 ì‹œì‘...
ë°ì´í„°ë² ì´ìŠ¤: postgresql
ë””ë²„ê·¸ ëª¨ë“œ: True
ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” ìƒì„± ì™„ë£Œ
=======
2024-01-15 10:30:45 | INFO     | app.main:54 | FastAPI Boilerplate v1.0.0 ì‹œì‘
2024-01-15 10:30:45 | INFO     | app.main:55 | ë°ì´í„°ë² ì´ìŠ¤ íƒ€ì…: postgresql
2024-01-15 10:30:45 | INFO     | app.main:56 | ë””ë²„ê·¸ ëª¨ë“œ: True
2024-01-15 10:30:45 | INFO     | app.main:57 | ë¡œê·¸ ë ˆë²¨: INFO
2024-01-15 10:30:45 | INFO     | app.main:61 | ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” ìƒì„± ì™„ë£Œ
```

---

## í™˜ê²½ë³„ ì„¤ì • ê´€ë¦¬

> **ì™œ í™˜ê²½ë³„ë¡œ ì„¤ì •ì„ ë¶„ë¦¬í•˜ë‚˜ìš”?**
> ê°œë°œí•  ë•ŒëŠ” í¸ì˜ë¥¼ ìœ„í•´ SQLiteë¥¼ ì“°ê³ , ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œëŠ” PostgreSQLì„ ì“°ëŠ” ê²ƒì²˜ëŸ¼,
> í™˜ê²½ë§ˆë‹¤ ì„¤ì •ì´ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. `.env` íŒŒì¼ì„ í™˜ê²½ë³„ë¡œ ì¤€ë¹„í•˜ë©´ ë©ë‹ˆë‹¤.

### ê°œë°œ í™˜ê²½ (.env.development)

```env
DEBUG=true
DB_TYPE=sqlite
SQLITE_FILE=./data/dev.db
ACCESS_TOKEN_EXPIRE_MINUTES=60
```

### í…ŒìŠ¤íŠ¸ í™˜ê²½ (.env.test)

```env
DEBUG=true
DB_TYPE=sqlite
SQLITE_FILE=:memory:
```

> **`:memory:`ë€?** íŒŒì¼ ëŒ€ì‹  ë©”ëª¨ë¦¬ì— DBë¥¼ ë§Œë“œëŠ” ê²ƒì…ë‹ˆë‹¤.
> í…ŒìŠ¤íŠ¸ê°€ ëë‚˜ë©´ ë°ì´í„°ê°€ ì‚¬ë¼ì§€ë¯€ë¡œ, í…ŒìŠ¤íŠ¸ë§ˆë‹¤ ê¹¨ë—í•œ ìƒíƒœë¡œ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### í”„ë¡œë•ì…˜ í™˜ê²½ (.env.production)

```env
DEBUG=false
DB_TYPE=postgresql
DB_HOST=production-db-host
SECRET_KEY=very-long-and-secure-key
JWT_SECRET_KEY=another-very-secure-key
ACCESS_TOKEN_EXPIRE_MINUTES=15
```

---

## ë‹¤ìŒ ë‹¨ê³„

- [ì‚¬ìš© ê°€ì´ë“œ](03_usage.md): API ì‚¬ìš© ë°©ë²•
- [API ë ˆí¼ëŸ°ìŠ¤](04_api_reference.md): ì „ì²´ API ë¬¸ì„œ
